<div class="container mt-4">
  <h3>ğŸ“š GÃ©rer les classes</h3>
  
  <!-- Search Bar -->
  <div class="search-section">
    <div class="input-group mb-3">
      <span class="input-group-text">ğŸ”</span>
      <input type="text" class="form-control" placeholder="Chercher par nom, description, ou enseignant..." 
             [(ngModel)]="searchQuery" (keyup)="onSearchChange(searchQuery)">
      <button class="btn btn-outline-secondary" type="button" (click)="searchQuery = ''; onSearchChange('')">âœ• Effacer</button>
    </div>
    <div class="search-info">
      <small>RÃ©sultats: <strong>{{ filteredClasses.length }}</strong> / Total: <strong>{{ classes.length }}</strong></small>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="py-3 text-center">
    <span>â³ Chargement...</span>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && filteredClasses.length === 0" class="empty-state">
    <i class="fas fa-inbox" style="font-size: 3rem; color: #ddd;"></i>
    <p>Aucune classe trouvÃ©e</p>
  </div>

  <!-- Classes List -->
  <div *ngIf="!loading && filteredClasses.length > 0">
    <ul class="list-group">
      <li class="list-group-item" *ngFor="let c of paginatedClasses">
        <div>
          <strong>{{ c.name }}</strong>
          <p style="margin: 0; color: #555; font-size: 0.95rem;">{{ c.description }}</p>
          <small class="text-muted" style="display: block; margin-top: 5px;">ğŸ‘¤ Enseignant: {{ c.teacher?.name }}</small>
        </div>
        <div>
          <button class="btn btn-danger" (click)="deleteClassConfirm(c)">ğŸ—‘ï¸ Supprimer</button>
        </div>
      </li>
    </ul>
  </div>

  <!-- Pagination -->
  <div *ngIf="!loading && filteredClasses.length > 0" class="pagination-section">
    <nav aria-label="Page navigation">
      <ul class="pagination">
        <li class="page-item" [ngClass]="currentPage === 1 ? 'disabled' : ''">
          <button class="page-link" (click)="previousPage()" [disabled]="currentPage === 1">â† PrÃ©cÃ©dent</button>
        </li>
        <li class="page-item" *ngFor="let page of [].constructor(totalPages); let i = index" [ngClass]="currentPage === i + 1 ? 'active' : ''">
          <button class="page-link" (click)="goToPage(i + 1)">{{ i + 1 }}</button>
        </li>
        <li class="page-item" [ngClass]="currentPage === totalPages ? 'disabled' : ''">
          <button class="page-link" (click)="nextPage()" [disabled]="currentPage === totalPages">Suivant â†’</button>
        </li>
      </ul>
    </nav>
    <div class="pagination-info">
      <small>Page <strong>{{ currentPage }}</strong> / <strong>{{ totalPages }}</strong></small>
    </div>
  </div>
</div>
