<div class="container mt-4">
  <!-- En-tête avec salutation -->
  <div class="header-section mb-5">
    <h1 class="welcome-title">Mes Classes</h1>
    <div class="d-flex gap-2 flex-wrap">
      <button class="btn btn-create-course" (click)="openClassModal()">
        <i class="fas fa-plus me-2"></i>Créer une classe
      </button>
      <button class="btn btn-outline-secondary" routerLink="/mes-cours-enseignant">
        <i class="fas fa-arrow-left me-2"></i>Retour au tableau de bord
      </button>
    </div>
  </div>

  <!-- Loading state -->
  <div *ngIf="isLoading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Chargement...</span>
    </div>
    <p class="mt-3 text-muted">Chargement des classes...</p>
  </div>

  <!-- Classes list -->
  <div *ngIf="!isLoading">
    <div *ngIf="classes.length > 0" class="row">
      <div *ngFor="let classe of classes" class="col-md-6 col-lg-4 mb-4">
        <div class="card h-100 shadow-sm cours-card" (click)="navigateToClassDetail(classe.id)">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <h5 class="card-title mb-0">{{ classe.name }}</h5>
              <span class="badge bg-primary">{{ classe.students_count || 0 }} étudiant(s)</span>
            </div>
            <p class="card-text text-muted" *ngIf="classe.description">
              {{ classe.description | slice:0:100 }}{{ classe.description.length > 100 ? '...' : '' }}
            </p>
            <p class="card-text text-muted" *ngIf="!classe.description">
              Aucune description
            </p>
            <small class="text-muted d-block mt-2">
              <i class="fas fa-calendar me-1"></i>
              Créée le {{ formatDate(classe.created_at) }}
            </small>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="classes.length === 0" class="no-courses-placeholder text-center py-5">
      <i class="fas fa-users fa-3x mb-3 text-muted"></i>
      <p class="text-muted">Aucune classe créée pour le moment</p>
      <button class="btn btn-create-course-outline" (click)="openClassModal()">
        <i class="fas fa-plus me-2"></i>Créer votre première classe
      </button>
    </div>
  </div>
</div>

<!-- Modal de création de classe -->
<app-class-modal
  [showModal]="showClassModal"
  [isEditMode]="false"
  [classe]="null"
  (closeModal)="closeClassModal()"
  (submitClass)="handleClassSubmit($event)">
</app-class-modal>

